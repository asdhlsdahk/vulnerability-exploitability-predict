import pandas as pd
from sklearn.model_selection import train_test_split
import lightgbm as lgb
from sklearn.metrics import mean_absolute_error
# from sklearn.preprocessing import Imputer
from sklearn.impute import SimpleImputer
import numpy as np
import pickle
# 1.读文件

y_train = np.zeros(shape=(1597, 1))
data = pd.read_csv("E:\大学学习\研究生\毕设\\data\\duibi\\apple.csv")
print(len(data))
print(data.shape)
x_train = np.zeros(shape=(1597, 338))
for j in range(0, len(data['vector'])):
    y_train[j] = data['EXP'][j]
    a = data['vector'][j]
    asd = a.split(' ')
    qwe = []
    for i in range(0,len(asd)):
        qwe.append(float(asd[i]))
    # print(asd)
    x_train[j] = qwe


print(x_train)
pickle_file = open('E:\大学学习\研究生\毕设\\data\\duibi\\applefa.pkl','wb')
pickle.dump(x_train, pickle_file)
pickle_file.close()
pickle_file = open('E:\大学学习\研究生\毕设\\data\\duibi\\labelapplefa.pkl','wb')
pickle.dump(y_train, pickle_file)
pickle_file.close()
